"use strict";var recipes=document.querySelector(".s-recipes"),preloader=(document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".side-menu"),e=(M.Sidenav.init(e,{edge:"right"}),document.querySelectorAll(".side-form"));M.Sidenav.init(e,{edge:"left"})}),document.getElementById("preloader")),renderRecipe=(window.onload=function(){preloader.style.display="none"},$(document).ready(function(){$("select").formSelect(),$(".collapsible").collapsible()}),db.enablePersistence().catch(function(e){"failed-precondition"==e.code?console.log("persistence failed"):"unimplemented"==e.code&&console.log("Persistence is not available")}),db.collection("recipes").onSnapshot(function(e){console.log(e.docChanges()),e.docChanges().forEach(function(e){"added"===e.type&&renderRecipe(e.doc.data(),e.doc.id),"removed"===e.type&&removeRecipe(e.doc.id)})}),function(e,i){e='\n      \x3c!-- Card Panel for each item --\x3e\n      <div class="card-panel recipe white row" data-id="'.concat(i,'">\n        \x3c!-- Use suitable and optimised media of the correct format --\x3e\n        <picture>\n          \x3c!-- Min Width: 200px--\x3e\n          <source srcset="./img/dish.svg" media="(min-width: 200px)" type="image/webp">\n          \x3c!-- Fallback image --\x3e\n          <img src="./img/fallback_dish.png" alt="Noodles dish" title="Noodles dish" loading="lazy">\n        </picture>\n        <div class="recipe-details">\n          <div class="recipe-title">').concat(e.title,'</div>\n          <div class="recipe-ingredients">').concat(e.ingredients,'</div>\n        </div>\n        <div class="recipe-delete">\n          <i class="material-icons" data-id="').concat(i,'">delete_outline</i>\n        </div>\n      </div>\n  ');recipes.innerHTML+=e}),form=document.querySelector(".add-recipe"),recipeContainer=(form.addEventListener("submit",function(e){e.preventDefault();e={title:form.title.value,ingredients:form.ingredients.value};db.collection("recipes").add(e).catch(function(e){return console.error(e)}),form.title.value="",form.ingredients.value=""}),document.querySelector(".s-recipes")),removeRecipe=(recipeContainer.addEventListener("click",function(e){"I"===e.target.tagName&&(e=e.target.getAttribute("data-id"),db.collection("recipes").doc(e).delete())}),function(e){document.querySelector(".recipe[data-id=".concat(e,"]")).remove()});